<!DOCTYPE html>
<html>
    <head>
        <title>CARDS</title>
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">

    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.0/css/all.css" integrity="sha384-lZN37f5QGtY3VHgisS14W3ExzMWZxybE1SJSEsQp9S+oqd12jhcu+A56Ebc1zFSJ" crossorigin="anonymous">

    <link href="jquery-ui-1.12.1/jquery-ui.min.css">
    <link href="jquery-ui-1.12.1/jquery-ui.structure.min.css">
    <link href="jquery-ui-1.12.1/jquery-ui.structure.min.css">
    <link href="jquery-ui-1.12.1/jquery-ui.theme.min.css">

    <link rel="stylesheet" href="styles.css" type="text/css">

    </head>
    <body>
        <div class="container-fluid">
            <div class="row">
                <div class="col-10  " style="padding: 0;">
                    <div class="modal fade" id="staticBackdrop" data-backdrop="static" data-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
                    <div class="modal-dialog">
                        <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="staticBackdropLabel">Do you want to play</h5>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close" onclick="quit()">
                            <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <div class="modal-body">
                            <p hidden id="winner" style="color: red;">PLAYER WON!</p>
                            <div id="myName">
                                <label for="names">Pick a name</label>
                                <input type="text" name="player" id="names">
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-dismiss="modal" onclick="nnow()">Play</button>
                            <button type="button" class="btn btn-danger" onclick="quit()">Quit</button>
                        </div>
                        </div>
                    </div>
                </div>
                <div class="top">
                    <p><h2>Player 1's turn</h2></p>
                </div>

                    <section>
                    <div id="computer" class="clearfix">

                    </div>


                    <div id="center" class="clearfix">
                        <div id="market" ><p></p>  <span></span></div>
                        <div id="twenty">
                            <div class="a" id="square"><div><i class="fas fa-square" style="font-size: 20px; color:#521717;  "></i></div></div>
                            <div class="a" id="star"><div><i class="fas fa-star" style="font-size: 20px; color:#521717;  "></i></div></div>
                            <div class="a" id="circle"><div><i class="fas fa-circle" style="font-size: 20px; color:#521717;  "></i></div></div>
                            <div class="a" id="cross"><div><i class="fas fa-cross" style="font-size: 20px; color:#521717;  "></i></div></div>
                            <div class="a" id="triangle"><div><i class="fas fa-play" style="font-size: 20px; color:#521717;  "></i></div></div>

                        </div>

                    </div>

                    <div id="player">

                    </div>

                    </section>
                </div>
                <div style="display: none;">
                    <table class="table table-striped text-center">
                        <thead class="thead-dark text-white">
                            <tr>
                                <th class="text-danger">SCORE LOG</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr><td class="text-white">Victor 1 - 3 Computer</td></tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>



        <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
        <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
        <script src="jquery-3.5.1.min.js"></script>
        <script src="jquery-ui-1.12.1/jquery-ui.min.js"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous"></script>
        <script>
            // $(function () {
                $('#staticBackdrop').modal('show')
                // available card contains the number of cards available in the deck of card at any specific time
                var availableCard = [
                    {
                        number: 1,
                        shape: "circle"
                    },
                    {
                        number: 1,
                        shape: "triangle"
                    },
                    {
                        number: 1,
                        shape: "cross"
                    },
                    {
                        number: 1,
                        shape: "square"
                    },
                    {
                        number: 1,
                        shape: "star"
                    },
                    {
                        number: 2,
                        shape: "circle"
                    },
                    {
                        number: 2,
                        shape: "triangle"
                    },
                    {
                        number: 2,
                        shape: "cross"
                    },
                    {
                        number: 2,
                        shape: "square"
                    },
                    {
                        number: 2,
                        shape: "star"
                    },
                    {
                        number: 3,
                        shape: "circle"
                    },
                    {
                        number: 3,
                        shape: "triangle"
                    },
                    {
                        number: 3,
                        shape: "cross"
                    },
                    {
                        number: 3,
                        shape: "square"
                    },
                    {
                        number: 3,
                        shape: "star"
                    },
                    {
                        number: 4,
                        shape: "circle"
                    },
                    {
                        number: 4,
                        shape: "triangle"
                    },
                    {
                        number: 4,
                        shape: "star"
                    },
                    {
                        number: 5,
                        shape: "circle"
                    },
                    {
                        number: 5,
                        shape: "triangle"
                    },
                    {
                        number: 5,
                        shape: "cross"
                    },
                    {
                        number: 5,
                        shape: "square"
                    },
                    {
                        number: 5,
                        shape: "star"
                    },
                    {
                        number: 7,
                        shape: "circle"
                    },
                    {
                        number: 7,
                        shape: "triangle"
                    },
                    {
                        number: 7,
                        shape: "cross"
                    },
                    {
                        number: 7,
                        shape: "square"
                    },
                    {
                        number: 7,
                        shape: "star"
                    },
                    {
                        number: 8,
                        shape: "circle"
                    },
                    {
                        number: 8,
                        shape: "triangle"
                    },
                    {
                        number: 8,
                        shape: "star"
                    },
                    {
                        number: 10,
                        shape: "circle"
                    },
                    {
                        number: 10,
                        shape: "triangle"
                    },
                    {
                        number: 10,
                        shape: "cross"
                    },
                    {
                        number: 10,
                        shape: "square"
                    },
                    {
                        number: 11,
                        shape: "circle"
                    },
                    {
                        number: 11,
                        shape: "triangle"
                    },
                    {
                        number: 11,
                        shape: "cross"
                    },
                    {
                        number: 11,
                        shape: "square"
                    },
                    {
                        number: 12,
                        shape: "circle"
                    },
                    {
                        number: 12,
                        shape: "triangle"
                    },
                    {
                        number: 13,
                        shape: "circle"
                    },
                    {
                        number: 13,
                        shape: "triangle"
                    },
                    {
                        number: 13,
                        shape: "cross"
                    },
                    {
                        number: 13,
                        shape: "square"
                    },
                    {
                        number: 14,
                        shape: "circle"
                    },
                    {
                        number: 14,
                        shape: "triangle"
                    },
                    {
                        number: 14,
                        shape: "cross"
                    },
                    {
                        number: 14,
                        shape: "square"
                    },
                    {
                        number: 20,
                        shape: "whot"
                    },
                    {
                        number: 20,
                        shape: "whot"
                    },
                    {
                        number: 20,
                        shape: "whot"
                    },
                    {
                        number: 20,
                        shape: "whot"
                    }
                ]

                var twoCount = false
                var fiveCount = false
                var whotShape;

                // current player 1 for player, 0 for computer
                var currentPlayer = 1

                // Cards already played
                var played = []

                var computerCAS = []
                var playerCAS = 0


                // The dashCards functions calls on the pick function 'number' number of times to dash out cards to a particulay player
                function dashCards(number, player) {
                    for (i = 0; i<number; i++){
                        pick(player)
                    }
                }

                dashCards(5, 0)
                dashCards(5, 1)
                dashCards(1)

                // The pick function picks a random card from the availableCard array
                function pick(n) {
                    if (availableCard.length == 0) {
                        availableCard = played
                        played = []
                    } else {
                        var r =  Math.floor(Math.random() * availableCard.length)
                        render(r, n)
                    }
                }



                // The render function takes in the index number of the random generated number and the currentPlayer and display cards for each player
                function render(re, z) {
                    if (availableCard[re] == undefined) {
                        pick(n)
                    } else {
                        let cardNum = availableCard[re]['number']
                        let cardShape = availableCard[re]['shape']
                        var div;
                        var x ;
                        var s = 'fas fa-square'
                        var t = 'fas fa-play'
                        var c = 'fas fa-circle'
                        var st = 'fas fa-star'
                        var w = 'fas fa-whot'
                        var cr = 'fas fa-cross'
                        var shapes;

                        if (cardShape == 'square'){
                            shapes = s
                        }else if (cardShape == 'triangle'){
                            shapes = t
                        }else if (cardShape == 'circle'){
                            shapes = c
                        }else if (cardShape == 'star'){
                            shapes = st
                        }else if (cardShape == 'cross'){
                            shapes = cr
                        } else {
                            shapes = w
                        }


                        if (z == 0) {
                            x = '#computer'
                            computerCAS.push(availableCard[re])

                            div = `<div class="ndraggable" style="height: 235px; width: 200px; background-color: white; position: relative; border-radius: 3%;"><p style="color:#521717; font-weight: bolder; font-size: xx-large;">${cardNum}</p><span style="visibility: hidden;">${cardShape}</span><div style="position: absolute; top: 33px; left: 7px; " > <i class="${shapes}" style="font-size: 20px; color:#521717;"></i></div><div  style="position: absolute; top: 70px; left: 50px; " > <i class="${shapes}" style="font-size: 100px; color:#521717;  "></i></div><div style="position: absolute; bottom: 32px; right: 12px; " > <i class="${shapes}" style="font-size: 20px; color:#521717; "></i></div><h3 style="color:#521717; font-weight: bolder; font-size: xx-large; transform: rotateY(180deg) rotateX(180deg); position: absolute; bottom: 0px; right: 5px; margin: 0;">${cardNum}</h3</div>`
                        } else if (z == 1) {
                            x = '#player'
                            playerCAS++
                            div = `<div class="draggable" style="height: 235px; width: 200px; background-color: white; position: relative; border-radius: 3%;"><p style="color:#521717; font-weight: bolder; font-size: xx-large;">${cardNum}</p><span style="visibility: hidden;">${cardShape}</span><div style="position: absolute; top: 33px; left: 7px; " > <i class="${shapes}" style="font-size: 20px; color:#521717;"></i></div><div  style="position: absolute; top: 70px; left: 50px; " > <i class="${shapes}" style="font-size: 100px; color:#521717;  "></i></div><div style="position: absolute; bottom: 32px; right: 12px; " > <i class="${shapes}" style="font-size: 20px; color:#521717; "></i></div><h3 style="color:#521717; font-weight: bolder; font-size: xx-large; transform: rotateY(180deg) rotateX(180deg); position: absolute; bottom: 0px; right: 5px; margin: 0;">${cardNum}</h3></div>`
                        } else {
                            x = '#center'
                            div = `<div id="droppable" style="height: 235px; width: 200px; background-color: white; position: relative; border-radius: 3%;"><p style="color:#521717; font-weight: bolder; font-size: xx-large;">${cardNum}</p><span style="visibility: hidden;">${cardShape}</span><div style="position: absolute; top: 33px; left: 7px; " > <i class="${shapes}" style="font-size: 20px; color:#521717;"></i></div><div  style="position: absolute; top: 70px; left: 50px; " > <i class="${shapes}" style="font-size: 100px; color:#521717;  "></i></div><div style="position: absolute; bottom: 32px; right: 12px; " > <i class="${shapes}" style="font-size: 20px; color:#521717; "></i></div><h3 style="color:#521717; font-weight: bolder; font-size: xx-large; transform: rotateY(180deg) rotateX(180deg); position: absolute; bottom: 0px; right: 5px; margin: 0;">${cardNum}</h3></div>`
                        }


                        if (z == 0) {
                            var a = 'ndraggable'
                        } else if (z == 1){
                            var a = 'draggable'
                        }
                        else {
                            // var a = 'droppable'
                            var a = ''
                        }
                        if(cardNum == 20  && (z == 0 || z == 1)) {
                            div = `<div style="height: 235px; width: 200px; background-color: white;" class="card ${a} twe"><p style="color:#521717; font-weight: bolder; font-size: xx-large; margin-bottom: 0;">20</p><h4 style="margin-bottom: 0;">W <span style="color: white;">${cardShape}</span></h4><h1 id="one">whot</h1><h1 id="two">whot</h1><div style="position: absolute; bottom: 32px; right: 12px; " > <h4>W</h4></div><h3 style="color:#521717; font-weight: bolder; font-size: xx-large; transform: rotateY(180deg) rotateX(180deg); position: absolute; bottom: 0px; right: 5px; margin: 0;">20</h3></div>`
                        } else if (cardNum == 20 ) {
                            div = `<div style="height: 235px; width: 200px; background-color: white;" class="card" id="${a}"><p style="color:#521717; font-weight: bolder; font-size: xx-large; margin-bottom: 0;">20</p><h4 style="margin-bottom: 0;">W <span style="color: white;">${cardShape}</span></h4><h1 id="one">whot</h1><h1 id="two">whot</h1><div style="position: absolute; bottom: 32px; right: 12px; " > <h4>W</h4></div><h3 style="color:#521717; font-weight: bolder; font-size: xx-large; transform: rotateY(180deg) rotateX(180deg); position: absolute; bottom: 0px; right: 5px; margin: 0;">20</h3></div>`
                        }

                        $(x).append(div)


                            $('.draggable').draggable({
                                revert: true
                            })


                        availableCard.splice(re, 1)
                    }
                }
                $('.draggable').draggable()

                var playerHasPlayed = false

                $('#droppable').droppable(
                    {
                        drop: function(event, ui){
                            var draggedNum = $(ui.draggable).find('p').text()
                            var draggedSha = $(ui.draggable).find('span').text()
                            var v = dropCheck(draggedNum, draggedSha)
                            if(playerHasPlayed){
                                return
                            }
                            if (v == true) {
                                aud('play')
                                $(this).html($(ui.draggable.html()))

                                var obj = {
                                    number: draggedNum,
                                    shape: draggedSha
                                }
                                played.push(obj)
                                $(ui.draggable).css('display', 'none')
                                if (draggedNum == 2) {
                                    playerHasPlayed = true
                                    playerCAS--
                                    if (playerCAS == 1) {
                                        $('h2').text(mes[9])
                                    }
                                    passTurn()
                                } else if (draggedNum == 5) {
                                    playerHasPlayed = true
                                    playerCAS--
                                    if (playerCAS == 1) {
                                        $('h2').text(mes[9])
                                    }
                                    passTurn()
                                } else if (draggedNum == 14) {
                                    twoCount = false
                                    fiveCount = false
                                    currentPlayer = 0
                                    aud('pick')
                                    dashCards(1, currentPlayer)
                                    $('h2').text(mes[10])
                                    playerHasPlayed = false
                                    playerCAS--
                                    if (playerCAS == 1) {
                                        $('h2').text(mes[9])
                                    }
                                    passTurn()
                                } else if (draggedNum == 8) {
                                    twoCount = false
                                    fiveCount = false
                                    currentPlayer = 0
                                    playerHasPlayed = false
                                    playerCAS--
                                    if (playerCAS == 1) {
                                        $('h2').text(mes[9])
                                    }
                                    passTurn()
                                } else if (draggedNum == 20) {
                                    twoCount = false
                                    fiveCount = false
                                    twenty()
                                } else {
                                    twoCount = false
                                    fiveCount = false
                                    playerHasPlayed = true
                                    playerCAS--
                                    if (playerCAS == 1) {
                                        $('h2').text(mes[9])
                                    }
                                    passTurn()
                                }

                            }
                        }
                    }
                )



                function dropCheck(p, span) {
                    var dropNum = $('#droppable').find('p').text()
                    var dropSha = $('#droppable').find('span').text()
                    if (dropNum == 2 && twoCount == true) {
                        if(p == 2) {
                            twoCount = false
                            console.log('pick 2 is cancelled')
                            return true
                        } else {
                            return false
                        }
                    } else if (dropNum == 5 && fiveCount == true) {
                        if (p == 5) {
                            fiveCount = false
                            console.log('pick 3 is cancelled')
                            return true
                        } else {
                            return false
                        }
                    } else if (dropNum == 8){
                        return true
                    } else if (dropNum == 20) {
                        if (p == 20 || span == whotShape){
                            // whotShape = ''
                            if (p == 2 ){
                                twoCount = true
                                return true
                            } else if (p == 5){
                                fiveCount = true
                                return true
                            } if (p == 20){
                                return true
                            }
                            return true
                        } else {
                            return false
                        }
                    } else if (p == dropNum || span == dropSha || p == 20) {
                        console.log('xxx')
                        if(p == 2){
                            console.log('ddd')
                            twoCount = true
                            console.log("one")
                        } else if (p == 5 ){
                            console.log('eee')
                            fiveCount = true
                            console.log("two")
                        }
                        return true
                    } else {
                        aud('error')
                        return false
                    }
                }

                function aud(x) {
                    var song = document.createElement('audio')
                    if (x == 'play') {
                        song.setAttribute('src', 'sound/play.mp3')
                    } else if (x == 'error') {
                        song.setAttribute('src', 'sound/myerror.mp3')
                    } else if('pick') {
                        song.setAttribute('src', 'sound/pick.mp3')
                    }
                    song.play()
                }

                function twenty() {
                    $('#twenty').css('visibility', 'visible')

                }

                $('.a').on('click', function () {
                        whotShape = $(this).attr('id')
                        $('#twenty').css('visibility', 'hidden')
                        playerHasPlayed = true
                        playerCAS--
                        if (playerCAS == 1) {
                            $('h2').text(mes[9])
                        }
                        passTurn()
                    })

                $('#market').on('click', function(){
                    if (currentPlayer == 1) {
                        if ($('#droppable').find('p').text() == 2 && twoCount == true) {
                            aud('pick')
                            dashCards(2,  1)
                            // $('h2').text(mes[3] + 2 + ' cards. You can play now')
                            twoCount = false
                            playerHasPlayed = true
                            passTurn()
                        }else if ($('#droppable').find('p').text() == 5 && fiveCount == true ) {
                            aud('pick')
                            dashCards(3 , 1)
                            $('h2').text(mes[4] + 3 + ' cards. You can play now')
                            fiveCount = false
                            playerHasPlayed = true
                            passTurn()
                        } else {
                            aud('pick')
                            dashCards(1, 1)
                            $('h2').text(mes[2])
                            playerHasPlayed = true
                            passTurn()
                        }
                        }

                })

            function passTurn() {
                console.log(computerCAS)
                if (currentPlayer == 1) {
                    currentPlayer = 0
                    setTimeout(function () {
                        control()
                    }, 1000)
                } else {
                    // console.log(computerCAS)
                    console.log(computerCAS.length)
                    console.log(playerCAS)
                    currentPlayer = 1
                    control()
                }

            }

            var mes = ["Player 1's turn", "Computer is playing", "You picked a card", "You Picked ", "You picked ", "Computer picked a card", "computer picked ", "Computer picked ", "General market for you", "LAST CARD", "Computer picked a card" ]

            function control() {
                if (playerCAS == 0) {
                    $('#staticBackdrop').modal('show')
                    winner.hidden = false
                    $('#winner').text("Player Won")
                    // load(0)
                } else if (computerCAS.length == 0){
                    $('#staticBackdrop').modal('show')
                    $('#winner').text("Computer Won")
                    winner.hidden = false
                    // load(1)
                } else {
                    if (currentPlayer == 0) {
                        $('h2').text(mes[1])
                        setTimeout(function(){
                            comp()
                            // console.log(computerCAS.length)
                        }, 1000)
                    } else {
                        // console.log(computerCAS.length)
                        setTimeout(function () {
                            $('h2').text(mes[0])
                        }, 1000)
                    }
                }

            }


            var scoreArray = []
            var playerName = names.value

            function load(x) {
                localStorage.setItem(playerName, )
            }

            var compcard;
            function comp() {
                var p =  $('#droppable').find('p').text()
                var span  = $('#droppable').find('span').text()

                var x = false

                for (let i = 0; i < computerCAS.length; i++) {
                    var presentNum = computerCAS[i]['number']
                    var presentSha = computerCAS[i]['shape']


                    if(p == presentNum || span == presentSha || presentNum == 20 || (p == 20 && presentSha == whotShape)){
                        x = true
                        var y = dropCheck(presentNum, presentSha)
                        if(y == true){
                            $('.ndraggable').each(function () {
                                // console.log('a')
                                if($(this).find('p').text() == presentNum && $(this).find('span').text() == presentSha){
                                    console.log(presentSha, presentNum)
                                    compCard = $(this)

                                    setTimeout(function () {
                                        let twe
                                        if (presentNum == 20) {
                                            twe = document.querySelectorAll('.twe')
                                            let tempo = twe[0]
                                            for (let counter = 0; counter < tempo.children.length; counter++){
                                                tempo.children[counter].style.visibility = 'visible'
                                            }
                                        }
                                        compCard.children().css('visibility', 'visible')
                                        compCard.find('span').css('visibility', 'hidden')
                                        setTimeout(function(){
                                            $('#droppable').html(compCard.html())
                                            aud('play')
                                            var obj = {
                                                number: presentNum,
                                                shape: presentSha
                                            }
                                            played.push(obj)
                                            console.log(compCard)
                                            if (presentNum == 20) {
                                                // let twe = document.querySelectorAll('.twe')
                                                twe[0].remove()
                                            } else {
                                                compCard.css('display', 'none')
                                            }
                                            if (presentNum == 2) {
                                                playerHasPlayed = false
                                                computerCAS.splice(i, 1)
                                                if (computerCAS.length == 1) {
                                                    $('h2').text(mes[9])
                                                }
                                                passTurn()
                                            } else if (presentNum == 5) {
                                                playerHasPlayed = false
                                                computerCAS.splice(i, 1)
                                                if (computerCAS.length == 1) {
                                                    $('h2').text(mes[9])
                                                }
                                                passTurn()
                                            } else if (presentNum == 14) {
                                                twoCount = false
                                                fiveCount = false
                                                currentPlayer = 1
                                                aud('pick')
                                                dashCards(1, 1)
                                                $('h2').text(mes[8])
                                                playerHasPlayed = false
                                                computerCAS.splice(i, 1)
                                                if (computerCAS.length == 1) {
                                                    $('h2').text(mes[9])
                                                }
                                                passTurn()
                                            } else if (presentNum == 8) {
                                                twoCount = false
                                                fiveCount = false
                                                currentPlayer = 1
                                                playerHasPlayed = false
                                                computerCAS.splice(i, 1)
                                                if (computerCAS.length == 1) {
                                                    $('h2').text(mes[9])
                                                }
                                                passTurn()
                                            } else if (presentNum == 20) {
                                                twoCount = false
                                                fiveCount = false
                                                computerCAS.splice(i, 1)
                                                if (computerCAS.length == 1) {
                                                    $('h2').text(mes[9])
                                                }
                                                compTwenty()
                                            } else {
                                                twoCount = false
                                                fiveCount = false
                                                playerHasPlayed = false
                                                computerCAS.splice(i, 1)
                                                if (computerCAS.length == 1) {
                                                    $('h2').text(mes[9])
                                                }
                                                passTurn()
                                            }


                                        }, 1000)
                                    }, 1000)
                                    return false
                                }
                            })
                        } else {
                            if (p == 2 && twoCount == true) {
                                setTimeout(function(){
                                    aud('pick')
                                    dashCards(2, currentPlayer)
                                    $('h2').text(mes[6] + 2 + ' cards')
                                    setTimeout(function () {
                                        twoCount = false
                                        playerHasPlayed = false
                                        passTurn()
                                    }, 1000)
                                }, 1000)
                            } else if (p == 5 && fiveCount == true){
                                setTimeout(function(){
                                    aud('pick')
                                    dashCards(3 , currentPlayer)
                                    $('h2').text(mes[7] + 3 + ' cards')
                                    setTimeout(function () {
                                        fiveCount = false
                                        playerHasPlayed = false
                                        passTurn()
                                    }, 1000)
                                },  1000)
                            } else {
                                setTimeout(function(){
                                    aud('pick')
                                    dashCards(1, currentPlayer)
                                    $('h2').text(mes[5])
                                    setTimeout(function () {
                                        playerHasPlayed = false
                                    passTurn()
                                    }, 1000)
                                }, 1000)
                            }
                        }
                        break
                    }
                }

                if (!x){
                    if (p == 2 && twoCount ==true){
                        aud('pick')
                        dashCards(2 , currentPlayer)
                        $('h2').text(mes[6] + 2 + ' cards')
                        setTimeout(function () {
                            twoCount = false
                            playerHasPlayed = false
                            passTurn()
                        }, 1000)

                    } else if (p == 5 && fiveCount == true){
                        aud('pick')
                        dashCards(3 , currentPlayer)
                        $('h2').text(mes[7] + 3  + ' cards')
                        setTimeout(function () {
                            fiveCount = false
                            playerHasPlayed = false
                            passTurn()
                        }, 1000)

                    } else {
                        console.log('did computer pick a card')
                        setTimeout(function(){
                        aud('pick')
                        dashCards(1, currentPlayer)
                        $('h2').text(mes[5])
                        setTimeout(function () {
                            playerHasPlayed = false
                            passTurn()
                        }, 1000)
                    }, 1000)
                    }
                }
            }

            function compTwenty() {
                var myShape = ['square', 'circle', 'cross', 'triangle', 'star']
                var random = Math.floor(Math.random() * 5)
                whotShape = myShape[random]
                setTimeout(function () {
                    $('h2').text('computer requests ' + whotShape)
                    playerHasPlayed = false
                    passTurn()
                    // return false
                }, 2000)
            }

            function nnow(){
                    // backgroundSound.pause()
                    var backgroundSound = document.createElement('audio')
                    backgroundSound.src = 'sound/back.mp3'
                    // backgroundSound.play()
                    $('#computer').html('')
                    $('#player').html('')
                    twoCount= false
                    fiveCount= false
                    computerCAS= []
                    playerCAS = 0
                    currentPlayer = 0
                    dashCards(5, 0)
                    dashCards(5, 1)
                    // dashCards(1)
                    passTurn()
                    // console.log(computerCAS)
                }

        // })



        function quit (){
            window.close()
        }
        </script>
    </body>
</html>